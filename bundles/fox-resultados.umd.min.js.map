{"version":3,"sources":["ng://fox-resultados/app/modules/fox-resultados/fox-resultados.component.html.ts","ng://fox-resultados/app/modules/fox-resultados/fox-resultados.component.ts","ng://fox-resultados/app/modules/fox-resultados/fox-resultados.component.css.ts","ng://fox-resultados/app/modules/fox-resultados/fox-resultados.module.ts"],"names":["FoxResultadosComponent","Date","getFullYear","getMonth","getDate","prototype","ngOnInit","_this","this","params","sortedRows","monthLabels","es","pt","parseInt","country","type","date","competitionid","axios","get","then","resp","data","forEach","row","key","year","month","day","push","Object","keys","newDate","label","lang","matches","match","status","homeTotalGoals","visitTotalGoals","newMatch","rawData","home","img","name","goals","extragoals","winner","away","hasEnded","isLive","link","place","stadium","dates","oninit","catch","err","onerror","Component","args","selector","template","styles","Input","FoxResultadosModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["export default `\n<section class=\"resultados-wrapper\">\n\t<div class=\"container-fluid p-0\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-12\">\n\t\t\t\t<h1>{{title}}</h1>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"resultados-table\" *ngFor=\"let date of dates\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<div class=\"resultados-table_date\">\n\t\t\t\t\t\t<h2>{{date.label}}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"{{'resultados-table_matches' + (match.isLive ? ' live' : (!match.isLive && !match.hasEnded ? ' not-started' : ''))}}\" *ngFor=\"let match of date.matches\">\n\n\t\t\t\t<div class=\"row no-gutters\" (click)=\"!match.isLive && !match.hasEnded ? onMatchClick(match) : ''\">\n\t\t\t\t\t<!-- Match Teams -->\n\t\t\t\t\t<div class=\"col-md-4 col-8\" >\n\t\t\t\t\t\t<div class=\"{{'team' + (match.home.winner ? ' won' : '')}}\">\n\t\t\t\t\t\t\t<img src=\"{{match.home.img}}\" />\n\t\t\t\t\t\t\t<span>{{match.home.name}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"{{'team' + (match.away.winner ? ' won' : '')}}\">\n\t\t\t\t\t\t\t<img src=\"{{match.away.img}}\" />\n\t\t\t\t\t\t\t<span>{{match.away.name}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Match Goals -->\n\t\t\t\t\t<div class=\"col-md-1 col-2 text-center text-md-left\">\n\t\t\t\t\t\t<span class=\"{{'goals' + (match.home.winner ? ' won' : '')}}\">{{match.home.goals}}<sup *ngIf=\"match.home.extragoals\">{{match.home.extragoals}}</sup></span>\n\t\t\t\t\t\t<span class=\"{{'goals' + (match.away.winner ? ' won' : '')}}\">{{match.away.goals}}<sup *ngIf=\"match.away.extragoals\">{{match.away.extragoals}}</sup></span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Match Status -->\n\t\t\t\t\t<div class=\"col-md-3 col-2 justify-content-center text-center text-md-left\">\n\t\t\t\t\t\t<span class=\"status\">{{match.status}}</span>\n\t\t\t\t\t\t<span *ngIf=\"!match.isLive && !match.hasEnded && match.place\" class=\"place\">{{match.place}}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Watch Online -->\n\t\t\t\t\t<div class=\"col-md-3 justify-content-center\">\n\t\t\t\t\t\t<button class=\"cta-watch inverse\" *ngIf=\"match.hasEnded\" (click)=\"onWatch(match)\">\n\t\t\t\t\t\t\t<svg class=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"10\" viewBox=\"0 0 8 10\">\n\t\t\t\t\t\t\t\t<g fill=\"none\">\n\t\t\t\t\t\t\t\t\t<g class=\"play-icon_fill\">\n\t\t\t\t\t\t\t\t\t\t<polygon transform=\"translate(-26 -10)translate(26 10)translate(4 5)rotate(90)translate(-4 -5)\" points=\"4 1 9 9 -1 9\"/>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\tRevivelo\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button type=\"button\" class=\"cta-watch\" *ngIf=\"match.isLive\" (click)=\"onWatchLive(match)\">\n\t\t\t\t\t\t\t<svg class=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"10\" viewBox=\"0 0 8 10\">\n\t\t\t\t\t\t\t\t<g fill=\"none\">\n\t\t\t\t\t\t\t\t\t<g class=\"play-icon_fill\">\n\t\t\t\t\t\t\t\t\t\t<polygon transform=\"translate(-26 -10)translate(26 10)translate(4 5)rotate(90)translate(-4 -5)\" points=\"4 1 9 9 -1 9\"/>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\tMiralo en vivo\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\n\t\n</section>`\n","import { Component, OnInit, Input } from '@angular/core';\nimport template from './fox-resultados.component.html'\nimport style from './fox-resultados.component.css'\nimport axios from 'axios'\n\n@Component({\n  selector: 'app-fox-resultados',\n  template: template + '',\n  styles: [style + '']\n})\nexport class FoxResultadosComponent implements OnInit {\n  @Input() competitionid: string = '';\n  @Input() lang: string = 'es';\n  @Input() date: string = '' + (new Date()).getFullYear() + ((new Date()).getMonth() + 1) + (new Date()).getDate();\n  @Input() max: number = 0;\n  @Input() type: string = 'futbol';\n  @Input() country: string = 'ar';\n\n  @Input() oninit: Function;\n  @Input() onerror: Function;\n  @Input() onMatchClick: Function;\n  @Input() onWatchLive: Function;\n  @Input() onWatch: Function;\n\n  title = 'Resultados';\n  dates = [];\n\n  constructor() {}\n\n  ngOnInit() {\n    // Usefull variables\n    const _this = this;\n    const params = {};\n    const sortedRows = {};\n    const monthLabels = {\n      'es': ['Enero','Febrero','Marzo','Abril','Mayo','Junio', 'Julio','Augosto','Septiembre','Octubre','Noviembre','Diciembre'],\n      'pt': ['Janeiro', 'Fevereiro', 'MarÃ§o', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro']\n    };\n    const today = parseInt('' + (new Date()).getFullYear() + ((new Date()).getMonth() + 1) + (new Date()).getDate())\n\n    // API Params setup\n    if (_this.country) params['country-code'] = _this.country;\n    if (_this.type) params['type'] = _this.type;\n    if (_this.date) params['dates-array'] = _this.date;\n    if (_this.competitionid) params['competition-id'] = _this.competitionid;\n\n    axios.get('https://stats.foxsportsla.com/stats/get_results_v2', {\n      params: params\n    }).then(function(resp) {\n\n      // Sort results and group by date\n      resp.data.forEach(row => {\n        const key = parseInt(row.year + '' + row.month + '' + row.day);\n        if (!sortedRows[key]) sortedRows[key] = []\n        sortedRows[key].push(row);\n      });\n\n      // Prepare data for frontend\n      Object.keys(sortedRows).forEach(date => {\n        const newDate = {\n          label: sortedRows[date][0].day + ' ' + monthLabels[_this.lang][(sortedRows[date][0].month - 1)] + ' ' + sortedRows[date][0].year,\n          matches: []\n        };\n        sortedRows[date].forEach(match => {\n          let status = '';\n          if (match.status === 'final') {\n            status = 'Final';\n          } else {\n            status = match['live-match']['live-minute'] + ' ';\n            status = status + (match['live-match']['total-periods'] === 1 ? 'PT' : 'ST')\n          }\n\n          const homeTotalGoals = (match['home-score'] ? parseInt(match['home-score']) : 0) + (match['aggregate-home-team-goals'] ? parseInt(match['aggregate-home-team-goals']) : 0)\n          const visitTotalGoals = (match['visiting-score'] ? parseInt(match['visiting-score']) : 0) + (match['aggregate-visiting-team-goals'] ? parseInt(match['aggregate-visiting-team-goals']) : 0)\n\n          let newMatch = {\n            rawData: match,\n            home: {\n              img: match['home-team']['team-logo-url'],\n              name: match['home-team']['team-name'],\n              goals: match['home-score'],\n              extragoals: match['aggregate-home-team-goals'],\n              winner: homeTotalGoals > visitTotalGoals\n            },\n            away: {\n              img: match['visiting-team']['team-logo-url'],\n              name: match['visiting-team']['team-name'],\n              goals: match['visiting-score'],\n              extragoals: match['aggregate-visiting-team-goals'],\n              winner: homeTotalGoals < visitTotalGoals\n            },\n            hasEnded: match.status === 'final',\n            isLive: match['live-match']['live-minute'] !== 0,\n            status: status,\n            link: 'https://www.google.com.ar',\n            place: match.stadium\n          };\n          newDate.matches.push(newMatch);\n        })\n\n        _this.dates.push(newDate);\n      });\n\n      // Run parent init if available\n      if (_this.oninit) _this.oninit(_this.dates);\n    }).catch(err => {\n      if (_this.onerror) _this.onerror(err);\n    })\n  }\n\n}\n","export default `\n.resultados-wrapper {\n\tfont-family: \"Roboto\", sans-serif;\n\tfont-size: 14px;\n\tfont-weight: 400;\n\tmargin: 50px 0;\n}\n\nh1 {\n\tfont-size: 1.25em;\n\tfont-weight: 500;\n}\n\n.resultados-table {\n\tbox-shadow: 0px 1px 1px 0px rgba(0, 0, 0, .1);;\n\tmargin: 20px 0;\n}\n\n.resultados-table_date {\n\tbackground: #fff;\t\n\tmargin: 2px 0;\n\tpadding: 18px 14px;\n\ttext-transform: uppercase;\n}\n\nh2 {\n\tfont-size: .9em;\n\tfont-weight: 500;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.resultados-table_matches {\n\tbackground: #fff;\n\tborder-bottom: 1px solid #f7f7f7;\n\tpadding: 8px 14px;\n}\n\n@media (max-width: 768px) {\n\t.resultados-table_matches {\n\t\tpadding: 5px 14px;\n\t}\n}\n\n.resultados-table_matches:last-child {\n\tborder-bottom: 0;\n}\n\n.resultados-table_matches .row > [class*='col']{\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n}\n\n.resultados-table_matches.live {\n\tbackground: rgba(0, 122, 255, .1);\n}\n\n.team {\n\talign-items: center;\n\tdisplay: flex;\n\tfont-size: 1.1em;\n}\n.team:first-child {\n\tmargin: 10px 0 6px;\n}\n.team:last-child {\n\tmargin: 6px 0 10px;\n}\n\n.team.won {\n\tfont-weight: 600;\n}\n\n.team img {\n\tdisplay: inline-block;\n\tmargin: 0 5px;\n\theight: 30px;\n\twidth: 30px;\n\tvertical-align: middle;\n}\n\n\n@media (max-width: 768px) {\n\t.team {\n\t\tfont-size: 1.1em;\n\t}\n\n\t.team img {\n\t\theight: 26px;\n\t\tmargin-left: 0;\n\t\twidth: 26px;\n\t}\n}\n\n.goals {\n\tcolor: #000;\n\tdisplay: block;\n\tfont-size: 1.2em;\n\tfont-weight: 400;\n\tmargin: 6px 0;\n}\n\n@media (max-width: 768px) {\n\t.goals {\n\t\tfont-size: 1.3em;\n\t\tmargin: 10px 0;\n\t}\n}\n\n.goals sup {\n\tfont-size: .6em;\n\tleft: 6px;\n\ttop: -8px;\n}\n\n.goals.won {\n\tfont-weight: 600;\n}\n\n.live .goals {\n\tcolor: #007aff;\n}\n\n\n.status {\n\tcolor: #999;\n\tfont-size: .85em;\n\ttext-transform: uppercase;\n}\n\n@media (max-width: 768px) {\n\t.status {\n\t\tfont-size: .8em;\n\t}\n}\n\n.not-started .status {\n\tcolor: #000;\n}\n\n.live .status {\n\tcolor: #007aff;\n}\n\n.place {\n\tcolor: #999;\n\tmargin-top: 8px;\n}\n\n@media (max-width: 768px) {\n\t.place {\n\t\tdisplay: none;\n\t}\n}\n\n.cta-watch {\n\t-moz-appearance: none;\n\t-webkit-appearance: none;\n\talign-self: flex-end;\n\tbackground: #007aff;\n\tborder: 1px solid #007aff;\n\tborder-radius: 4px;\n\tcolor: #fff;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\tfont-family: \"Roboto\", sans-serif;\n\tfont-size: .75em;\n\tfont-weight: 500;\n\tpadding: 6px 0 4px;\n\ttext-align: center;\n\twidth: 126px;\n\ttext-transform: uppercase;\n}\n\n@media (max-width: 768px) {\n\t.cta-watch {\n\t\talign-self: center;\n\t\tfont-size: .7em;\n\t\tmargin-top: 2px;\n\t\twidth: 108px;\n\t}\n}\n\n.cta-watch:hover {\n\tbackground: #368eee;\n\tborder-color: #368eee;\n}\n\n.cta-watch .play-icon {\n\tdisplay: inline-block;\n\theight: 10px;\n\tmargin-top: -2px;\n\tvertical-align: middle;\n\twidth: 12px;\n}\n\n.cta-watch .play-icon_fill {\n\tfill: #fff;\n}\n\n.cta-watch.inverse {\n\tbackground: transparent;\n\tcolor: #007aff;\n}\n\n.cta-watch.inverse:hover {\n\tborder-color: #368eee;\n\tcolor: #368eee;\n}\n\n.cta-watch.inverse .play-icon_fill {\n\tfill: #007aff;\n}\n`\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FoxResultadosComponent } from './fox-resultados.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [FoxResultadosComponent],\n  exports: [\n    FoxResultadosComponent\n  ]\n})\nexport class FoxResultadosModule { }\n"]}